@using EGHeals.Components.UI.Buttons.Base;
@using EGHeals.Models.Enums
@inherits ButtonBase;

<button class="button @(Transparency? GetVariantTransparencyClass() : GetVariantClass()) @Class @(IsDisabled ? "disabled" : string.Empty)" style="height:@($"{Size}rem"); width:@($"{Size}rem"); border-radius:@($"{Size}rem")" @onclick="@OnClick">
    <i class="@Icon" style="font-size:@($"{GetFontSize()}rem")"></i>
</button>
@code {

    [Parameter] public double Size { get; set; } = default!;

    [Parameter] public bool Transparency { get; set; } = false;

    private double GetFontSize()
    {
        // Scale font size relative to button size
        return Transparency ? Size : Size * 0.5; // e.g., half the button size
    }

    private string GetVariantTransparencyClass() => Color switch
    {
        ApplicationColor.PRIMARY => "button-primary-transparency",
        ApplicationColor.SECONDARY => "button-secondary-transparency",
        ApplicationColor.TERTIARY => "button-tertiary-transparency",
        _ => "button-primary-transparency"
    };
}

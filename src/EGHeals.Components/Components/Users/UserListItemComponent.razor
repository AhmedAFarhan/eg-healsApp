@using EGHeals.Models.Dtos.Users
@inject NavigationManager NavigationManager

<GridCardUI OnFirstAction="@OnEditUserHandler" OnSecondAction="OnDeleteUserHandler">
    <PopupActions>
        <GridCardContextPopupActionUI Text="Permissions" Icon="fa-regular fa-universal-access" OnClick="@OnShowPermissionsHandler" />
    </PopupActions>
    <ChildContent>
        <div class="user">
            <div class="user__icon"><i class="fa-solid fa-user"></i></div>
            <div class="user__username">@User.Username</div>
            <div class="user__roles-container">
                <div class="user__role-title">Roles : </div>
                <ul class="user__roles">
                    @foreach (var role in User.UserRoles)
                    {
                        <li class="user__role">@role.RoleName</li>
                    }
                </ul>                
            </div>
        </div>
    </ChildContent>
</GridCardUI>

@code{

    [Parameter] public SubUserResponseDto User { get; set; } = default!;

    private void OnEditUserHandler()
    {

    }

    private void OnDeleteUserHandler()
    {

    }

    private void OnShowPermissionsHandler()
    {
        NavigationManager.NavigateTo($"/user-roles/{User.Id}");
    }

}